# render.yaml

services:
  - type: web
    name: banklite-web
    env: python          # use 'env' (older but widely supported)
    plan: free
    branch: main
    autoDeploy: true
    region: oregon

    buildCommand: pip install --upgrade pip && pip install -r requirements.txt
    startCommand: gunicorn app.wsgi:app

    envVars:
      - key: FLASK_APP
        value: app.wsgi:app
      - key: SECRET_KEY
        generateValue: true
      - key: SQLALCHEMY_DATABASE_URI
        fromDatabase:
          name: banklite-db
          property: connectionString

databases:
  - name: banklite-db
    plan: free
    region: oregon
